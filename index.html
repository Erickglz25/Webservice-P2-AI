<!doctype html> 
<html ng-app="angularClient"> 
	<head> 
	  <meta charset="UTF-8">
	  <meta name="viewport" content="width=device-width, initial-scale=1">
	  <title>Angular CLIENT app</title>
	  <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css">
	</head> 
	<body ng-controller="mainController"> 
	  <div class="container"> 
	 	<!--Cabecera-->
			<div class="jumbotron text-center">
				<h1>Angular CLIENT List <span class="label label-info">{{ clients.length }}</span></h1>
		  </div>
	 	<!--Lista de Todos-->
		  <div id="client-list" class="row">
			  <div class="col-sm-4 col-sm-offset-4">
				  <div class="checkbox" ng-repeat="client in clients">
					  <label>
					  	<input type="checkbox" ng-click="deleteClient(client._id)"> {{ client.name }} 
					  </label>
				  </div>		
			  </div>
		  </div>
	 	<!--Formulario para insertar nuevos Todo--> 
	 		<div id="client-form" class="row">
	 			<div class="col-sm-8 col-sm-offset-2 text-center">
	 				<form>
	 					<div class="form-group">
	 						<input type="text" class="form-control input-lg text-center" placeholder="Inserta nuevo cliente" ng-model="formData.name">
	 					</div>
	 					<button class="btn btn-primary btn-lg" ng-click="createEmployee()">AÃ±adir</button>
	 				</form>
	 			</div>
	 		</div>
	  </div>
	  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script> 
	  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.8/angular.min.js"></script> 
	  <script>
			 angular.module('angularClient', []); 
			function mainController($scope, $http) { 
			 $scope.formData = {};
			 getEmployees();

			// Create Client
			 $scope.createEmployee = function(){
			 $http.post('/api/employees', $scope.formData)
			 .success(function(data) {
			 $scope.formData = {};
			 getEmployees();
			 })
			 .error(function(data) {
			 console.log('Error:' + data);
			 });
			 };
			/*
			// Delete Client
			 $scope.deleteClient = function(id) {
			 $http.delete('/api/v1/clients/' + id)
			 .success(function(data) {
			 getClients();
			 })
			 .error(function(data) {
			 console.log('Error:' + data);
			 });
			 };
			 */

			function getEmployees(){
			 $http.get('/api/employees')
			 .success(function(data) {
			 $scope.employees = data;
			 console.log(data)
			 })
			 .error(function(data) {
			 console.log('Error: ' + data);
			 }); 
			 };
			}
	 </script>
	</body> 
</html>